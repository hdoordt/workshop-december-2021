{
    "version": "0.2.0",
    "configurations": [
        {
            /* Configuration for the STM32F303 Discovery board */
            "type": "cortex-debug",
            "request": "launch",
            "name": "Flash and Debug test",
            "servertype": "external",
            "gdbTarget": "127.0.0.1:3333",
            "gdbPath": "gdb-multiarch",
            "cwd": "${workspaceRoot}",
            "preLaunchTask": "cargo-build:test",
            "runToMain": true,
            "executable": "./target/thumbv7em-none-eabihf/debug/test",
            "device": "nRF52840",
            
            "svdFile": "${workspaceRoot}/nrf52840.svd",
    
            "postLaunchCommands": [
                "break rust_begin_unwind", // Break at panic
                "monitor rtt server start 8765 0",
                "monitor rtt setup 0x2003fbc0 0x30 \"SEGGER RTT\"",
                "monitor rtt start",
            ],
        }
    ],
}